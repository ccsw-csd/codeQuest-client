<div class="h-full w-full flex flex-row gap-6">
    
    <div class="h-full flex-1 flex flex-column">

        <ngx-monaco-editor *ngIf="levelLoaded" class="flex-1" [options]="editorOptions" (init)="editorInit($event)" ></ngx-monaco-editor>
        <div *ngIf="levelLoaded == false" class="flex-1" style="background-color: rgb(30,30,30);"></div>

        <div class="flex flex-row mt-4 gap-8">
            <button pButton class="p-button-secondary p-button-lg flex-1" label="Reset" (click)="clickResetButton()"></button>   
            <button pButton class="p-button-primary p-button-lg flex-1" label="Run!" (click)="editorInit(null)"></button>
        </div>


    </div>

    <div class="h-full flex-1 flex flex-column">
        <p class="text-center m-0 p-0 text-xl">{{level.quest.name}}</p>
        <p class="text-center m-0 p-0 text-l pt-1">{{level.name}}</p>

        <div class="map flex flex-column align-items-center pt-6 pb-6">

            <div *ngFor="let row of level.tiles; let c = index" class="flex flex-row">
                <div *ngFor="let tile of level.tiles[c]; let r = index" class="tile {{level.tiles[c][r]}}">
                </div>
            </div>

        </div>


        <div class="flex flex-row gap-2">
            <button pButton class="tab" [class.selected]= "tabInfoZoneSelected == 0" label="Chapter" (click)="tabInfoZoneSelected = 0"></button>   
            <button pButton class="tab" [class.selected]= "tabInfoZoneSelected == 1" label="History" (click)="tabInfoZoneSelected = 1"></button>
        </div>
        <div class="info-zone overflow-x-hidden overflow-y-auto p-4">
            <div *ngIf="tabInfoZoneSelected == 0" [innerHTML]="level.chapterInfo">
            </div>
            <div *ngIf="tabInfoZoneSelected == 1">
                Historia
            </div>
        </div>


    </div>
</div>
<div class="progress-spinner" *ngIf="loading">
    <p-progressSpinner></p-progressSpinner>
</div>
<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>

